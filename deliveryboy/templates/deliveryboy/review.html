{%load static%}
{%load custom_tags %}

<!DOCTYPE html>
<html lang="en">


<!-- molla/index-3.html  22 Nov 2019 09:55:42 GMT -->


<head>
    <meta charset="UTF-8">
    <meta http-equiv="X-UA-Compatible" content="IE=edge">
    <meta name="viewport" content="width=device-width, initial-scale=1, shrink-to-fit=no">
    <title>Rental Appliances</title>
    <meta name="keywords" content="HTML5 Template">
    <meta name="description" content="Molla - Bootstrap eCommerce Template">
    <meta name="author" content="p-themes">
    <!-- Favicon -->
    <!-- <link rel="apple-touch-icon" sizes="180x180" href="assets/images/icons/apple-touch-icon.png"> -->
    <link rel="icon" type="image/png" sizes="32x32" href="{%static 'home/assets/images/icons/favicon-32x32.png'%}">
    <link rel="icon" type="image/png" sizes="32x32" href="{%static 'home/assets/images/icons/favicon-32x32.png'%}">
    <link rel="icon" type="image/png" sizes="16x16" href="{%static 'home/assets/images/icons/favicon-16x16.png'%}">
    <link rel="manifest" href="{%static 'home/assets/images/icons/site.html'%}">
    <link rel="mask-icon" href="{%static 'home/assets/images/icons/safari-pinned-tab.svg'%}" color="#666666">
    <link rel="shortcut icon" href="{%static 'home/assets/images/icons/favicon.ico'%}">
    <meta name="apple-mobile-web-app-title" content="Molla">
    <meta name="application-name" content="Molla">
    <meta name="msapplication-TileColor" content="#cc9966">
    <meta name="msapplication-config" content="{%static 'home/assets/images/icons/browserconfig.xml'%}">
    <meta name="theme-color" content="#ffffff">
    <link rel="stylesheet"
        href="{%static 'home/assets/vendor/line-awesome/line-awesome/line-awesome/css/line-awesome.min.css'%}">
    <!-- Plugins CSS File -->
    <link rel="stylesheet" href="{%static 'assets/css/sweetalert2.min.css'%}">
    <link rel="stylesheet" href="{%static 'home/assets/css/bootstrap.min.css'%}">
    <link rel="stylesheet" href="{%static 'home/assets/css/plugins/owl-carousel/owl.carousel.css'%}">
    <link rel="stylesheet" href="{%static 'home/assets/css/plugins/magnific-popup/magnific-popup.css'%}">
    <link rel="stylesheet" href="{%static 'home/assets/css/plugins/jquery.countdown.css'%}">
    <!-- Main CSS File -->
    <link rel="stylesheet" href="{%static 'home/assets/css/style.css'%}">
    <link rel="stylesheet" href="{%static 'home/assets/css/plugins/nouislider/nouislider.css'%}">
    <link rel="stylesheet" href="{%static 'home/assets/css/skins/skin-demo-4.css'%}">
    <link rel="stylesheet" href="{%static 'home/assets/css/demos/demo-3.css'%}">


    <link rel="stylesheet" href="{%static 'home/assets/style_tail.css'%}">
    <link rel="stylesheet" href="https://use.fontawesome.com/releases/v5.0.7/css/all.css">
    <link rel="stylesheet" href="https://cdn.jsdelivr.net/npm/bootstrap-icons@1.8.1/font/bootstrap-icons.css">


    <!-- Main CSS File -->

    {%block css%}
    {%endblock%}
</head>
</head>

<body>
    <div class="page-wrapper" style="background-color: #eee;">
        <section class="h-100" >
            <div class="text-center page-header" style="background-image: url('assets/images/page-header-bg.jpg')">
                <div class="container">
                    <p class="page-title font-normal text-primary text-5xl">Give Your Review</p>
                </div>
                <!-- End .container -->
            </div>
            <div class="container h-100 ">
                <div class="row d-flex  justify-content-center align-items-center h-100">
                    <div class="col-10">


                        <div class="card rounded-3 mb-4">
                            <div class="card-body p-4">
                                <div class="row d-flex ">
                                    <div class="col-md-5">
                                        <img src="{{product.image_set.all.0.image.url}}"
                                            class="img-fluid rounded-3" alt="Cotton T-shirt">
                                    </div>

                                    <form action="{% url 'addReview'%}" method="post" class="space-y-6 text-left pr-2 col-md-7 mt-1 d-flex" onsubmit=" return validate() ">
                                        {% csrf_token %}
                                        <div class="space-y-10">
                                            <p class="mb-1 mt-3 font-semibold text-4xl">{{product.name}}</p>
                                            <p class=" ">{{product.desc}}</p>

                                            <div class="" style="font-size:4.5rem;">
                                        
                                                <i class="bi bi-star text-gray-600 rating-star" data-value="1"></i>
                                                <i class="bi bi-star text-gray-600 rating-star" data-value="2"></i>
                                                <i class="bi bi-star text-gray-600 rating-star" data-value="3"></i>
                                                <i class="bi bi-star text-gray-600 rating-star" data-value="4"></i>
                                                <i class="bi bi-star text-gray-600 rating-star" data-value="5"></i>
                                                <input type="hidden" name="rating" value="0" id="ratingInput">
                                                <input type="hidden" name="product" value={{product.id}}>
                                                <input type="hidden" name="orid" value={{orid}}>
                                                <input type="hidden" name="user" value={{user}}>
                                            </div>

                                            <textarea class="form-control resize-none outline-none" name="comment" id="reviewComment" cols="30" rows="10"
                                                style="height: 100px;"
                                                placeholder="Give your review"></textarea>

                                            <div class="">
                                                <button type="submit"
                                                    class="items-center btn bg-primary float-right btn-lg rounded-sm"><span
                                                        class="text-white">Upload</span> </button>
                                            </div>
                                        </div>
                                    </form>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </section>
    </div>
</body>
<script>
    let rating_stars = document.getElementsByClassName("rating-star");
    for(let i=0; i<rating_stars.length; i++){
        rating_stars[i].addEventListener("click",(e)=>{
            console.log(rating_stars)
            let star_position = e.target.dataset.value;
            for(let j=0; j<star_position; j++){
                rating_stars[j].classList.remove("bi-star");
                rating_stars[j].classList.add("bi-star-fill");
                rating_stars[j].classList.add("text-yellow-500");
                rating_stars[j].classList.add("checked");
            }

            for(let k=star_position; k<rating_stars.length; k++){
                rating_stars[k].classList.remove("bi-star-fill");
                rating_stars[k].classList.remove("text-yellow-500");
                rating_stars[k].classList.add("text-gray-600");
                rating_stars[k].classList.add("bi-star");
                rating_stars[k].classList.remove("checked");
            }
            document.getElementById("ratingInput").value = e.target.dataset.value;
        })
    }
    function validate(){
        if (document.getElementById("ratingInput").value==0){
            alert("please select rating")
            return false
        }
        else if (document.getElementById("reviewComment").value.trim()==""){
            alert("please give comment ")
            return false
        }
    }
</script>

</html>